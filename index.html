<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 04 - Relationships and Teamwork</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Averia+Serif+Libre:ital,wght@0,400;0,700;1,400;1,700&display=swap');
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .presentation-container {
            width: 95%;
            max-width: 1200px;
            min-height: 90vh;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            overflow: hidden;
            position: relative;
        }

        .slide {
            display: none;
            padding: 60px 50px;
            text-align: center;
            min-height: 85vh;
            color: #333;
            position: relative;
        }

        .slide.active {
            display: block;
            animation: slideIn 0.5s ease-in-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .slide h1 {
            font-size: 3.5em;
            margin-bottom: 30px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .slide h2 {
            font-size: 2.5em;
            margin-bottom: 30px;
            color: #4a5568;
        }

        .slide h3 {
            font-size: 2em;
            margin-bottom: 20px;
            color: #667eea;
        }

        .emoji {
            font-size: 1.5em;
        }

        .question-container {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 40px;
            border-radius: 20px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .question-number {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .question-text {
            font-size: 1.8em;
            margin-bottom: 30px;
            line-height: 1.3;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .option {
            background: rgba(255,255,255,0.2);
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            font-size: 1.3em;
        }

        .option:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .option.correct {
            border: 3px solid #48bb78;
            background: rgba(72, 187, 120, 0.3);
            animation: pulse 0.5s;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .navigation {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
        }

        .nav-btn {
            padding: 15px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.2em;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .progress-bar {
            position: absolute;
            top: 0;
            left: 0;
            height: 5px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.5s ease;
        }

        .teamwork-principles {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 40px;
        }

        .principle-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
        }

        .principle-card:hover {
            transform: translateY(-10px);
        }

        .principle-card h4 {
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        .principle-card p {
            font-size: 1.1em;
            line-height: 1.4;
        }

        .interactive-element {
            background: rgba(102, 126, 234, 0.1);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            border: 2px dashed #667eea;
        }

        .celebration {
            font-size: 3em;
            margin: 20px 0;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .slide p {
            font-size: 1.3em;
            line-height: 1.6;
            margin-bottom: 20px;
            color: #4a5568;
        }

        .highlight {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #667eea;
        }

        .byu-logo {
            position: absolute;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .mountain-background {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 200px;
            background: linear-gradient(to top, rgba(102, 126, 234, 0.1) 0%, transparent 100%);
        }

        .mountain-background::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100px;
            background: linear-gradient(45deg, 
                transparent 0%, transparent 10%,
                rgba(102, 126, 234, 0.2) 15%, transparent 20%,
                transparent 25%, rgba(102, 126, 234, 0.15) 30%, transparent 35%,
                transparent 40%, rgba(102, 126, 234, 0.25) 45%, transparent 50%,
                transparent 55%, rgba(102, 126, 234, 0.2) 60%, transparent 65%,
                transparent 70%, rgba(102, 126, 234, 0.3) 75%, transparent 80%,
                transparent 85%, rgba(102, 126, 234, 0.15) 90%, transparent 95%
            );
        }

        .participants-display {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
            min-height: 60px;
            padding: 20px;
            border: 2px dashed #667eea;
            border-radius: 10px;
            background: rgba(102, 126, 234, 0.05);
        }

        .participant-tag {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 15px;
            border-radius: 25px;
            font-size: 1em;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            animation: slideInTag 0.3s ease;
        }

        @keyframes slideInTag {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .remove-btn {
            background: rgba(255, 255, 255, 0.3);
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            cursor: pointer;
            font-size: 0.8em;
            color: white;
            font-weight: bold;
        }

        .remove-btn:hover {
            background: rgba(255, 255, 255, 0.5);
        }

        .devotional-quote-container {
            background: rgba(255, 255, 255, 0.9);
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            z-index: 10;
        }

        .quote-text {
            font-size: 1.8em;
            line-height: 1.4;
            color: #2c2c2c;
            font-style: italic;
            margin-bottom: 30px;
            text-align: left;
        }

        .quote-author {
            text-align: right;
            font-size: 1.2em;
            color: #667eea;
        }

        .participant-selection-bottom {
            position: absolute;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
            padding: 15px 30px;
            border-radius: 15px;
            font-size: 1.3em;
            font-weight: bold;
            box-shadow: 0 10px 30px rgba(72, 187, 120, 0.3);
            animation: selectedAnimation 1s ease;
            z-index: 20;
        }

        @keyframes selectedAnimation {
            0% { transform: translateX(-50%) scale(0.8) rotateY(-180deg); opacity: 0; }
            50% { transform: translateX(-50%) scale(1.1) rotateY(-90deg); }
            100% { transform: translateX(-50%) scale(1) rotateY(0deg); opacity: 1; }
        }

        .bug-jar-images {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 50px 0;
            gap: 20px;
        }

        .bug-jar-images img {
            max-width: 250px;
            height: auto;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        @keyframes roulette {
            0% { transform: rotateY(0deg); }
            25% { transform: rotateY(90deg) scale(1.1); }
            50% { transform: rotateY(180deg) scale(0.9); }
            75% { transform: rotateY(270deg) scale(1.1); }
            100% { transform: rotateY(360deg) scale(1); }
        }
    </style>
</head>
<body>
    <div class="presentation-container">
        <div class="progress-bar" id="progressBar"></div>

        <!-- BYU-Pathway Logo -->
        <div class="byu-logo">
            <svg width="80" height="80" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="50" fill="#2c2c2c"/>
                <text x="50" y="40" text-anchor="middle" fill="#f4b942" font-family="serif" font-weight="bold" font-size="20">BYU</text>
                <line x1="20" y1="50" x2="80" y2="50" stroke="#f4b942" stroke-width="1"/>
                <text x="50" y="60" text-anchor="middle" fill="#f4b942" font-family="serif" font-size="8">PATHWAY</text>
                <text x="50" y="70" text-anchor="middle" fill="#f4b942" font-family="serif" font-size="6">WORLDWIDE</text>
            </svg>
        </div>

        <!-- Slide 1: Welcome -->
        <div class="slide active">
            <div class="celebration">🎉</div>
            <h1>Welcome to Week 04!</h1>
            <h2>Relationships and Teamwork</h2>
            <div class="highlight">
                <p><strong>Today's Agenda:</strong></p>
                <p>📚 Devotional</p>
                <p>✨ Devotional Quiz</p>
                <p>🤝 Team Project: Governance Document</p>
                <p>🎯 Hands-on Group Work</p>
            </div>
        </div>

        <!-- Slide 2: Devotional Introduction -->
        <div class="slide" style="background: linear-gradient(135deg, #f4b942 0%, #f4b942 100%); color: #4a4a4a;">
            <div style="position: absolute; top: 50px; left: 50px; color: rgba(255,255,255,0.9); font-size: 1em; font-weight: bold; text-transform: uppercase; letter-spacing: 2px;">
                DEVOTIONAL
            </div>
            
            <div style="display: flex; flex-direction: column; justify-content: center; align-items: flex-start; height: 100vh; padding-left: 50px; padding-top: 50px;">
                <h1 style="color: #4a4a4a; font-size: 5em; margin-bottom: 10px; font-weight: 300; line-height: 0.9;">Clark G. Gilbert</h1>
                <p style="color: #666; font-size: 1.3em; font-weight: normal; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 120px;">
                    PRESIDENT, BYU-PATHWAY WORLDWIDE
                </p>
                
                <h2 style="color: #4a4a4a; font-size: 2.5em; font-style: italic; margin-bottom: 40px; font-weight: 300;">
                    "Why We Gather"
                </h2>
                
                <h3 style="color: #4a4a4a; font-size: 2.5em; font-style: italic; font-weight: 300;">
                    "How can you and your classmates make gatherings more effective?"
                </h3>
            </div>
            
            <div style="position: absolute; bottom: 80px; left: 50px;">
                <div style="color: rgba(255,255,255,0.95); font-size: 5.5em; font-weight: bold; text-shadow: none; margin-bottom: -20px;">BYU</div>
                <div style="color: rgba(255,255,255,0.95); font-size: 1.4em; font-weight: 300; text-transform: uppercase; letter-spacing: 3px; line-height: 1.2;">
                    PATHWAY<br>WORLDWIDE
                </div>
            </div>
        </div>

        <!-- Slide 3: Name Registration -->
        <div class="slide">
            <h2>Let's Make This Interactive! <span class="emoji">🎲</span></h2>
            <div class="highlight">
                <h3>Quiz Participants Registration</h3>
                <p>We'll randomly select who answers each question!</p>
            </div>
            
            <div class="interactive-element">
                <div style="margin-bottom: 30px;">
                    <input type="text" id="nameInput" placeholder="Enter participant name" 
                           style="padding: 15px; font-size: 1.3em; border: 2px solid #667eea; border-radius: 10px; width: 300px; margin-right: 15px;">
                    <button onclick="addParticipant()" class="nav-btn" style="position: relative; transform: none;">Add Name</button>
                </div>
                
                <div id="participantsList" class="participants-display"></div>
                
                <div style="margin-top: 30px;">
                    <button onclick="clearAllParticipants()" class="nav-btn" 
                            style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); position: relative; transform: none;">
                        Clear All Names
                    </button>
                </div>
                
                <div class="highlight" style="margin-top: 40px;">
                    <p><strong>Instructions:</strong> Add all participants' names, then we'll randomly select someone for each quiz question!</p>
                    <p id="participantCount">Participants registered: 0</p>
                </div>
            </div>
        </div>

        <!-- Quiz Questions (Slides 5-8) -->
        <div class="slide">
            <div class="question-container">
                <div class="question-number">Question 1 of 5</div>
                <div class="question-text">According to the devotional, what is the main purpose of having gatherings?</div>
                <div class="options">
                    <div class="option" onclick="selectAnswer(this, true)">A) To strengthen relationships and unity</div>
                    <div class="option" onclick="selectAnswer(this, false)">B) To complete assignments together</div>
                    <div class="option" onclick="selectAnswer(this, false)">C) To save time on individual study</div>
                    <div class="option" onclick="selectAnswer(this, false)">D) To meet course requirements</div>
                </div>
            </div>
            <div id="selectedParticipant" class="participant-selection-bottom"></div>
        </div>

        <div class="slide">
            <div class="question-container">
                <div class="question-number">Question 2 of 5</div>
                <div class="question-text">The devotional mentioned challenges for different types of students. What transportation challenges were highlighted for in-person students?</div>
                <div class="options">
                    <div class="option" onclick="selectAnswer(this, false)">A) Finding parking spaces</div>
                    <div class="option" onclick="selectAnswer(this, false)">B) Traffic delays during rush hour</div>
                    <div class="option" onclick="selectAnswer(this, true)">C) Using different types of transportation to reach campus</div>
                    <div class="option" onclick="selectAnswer(this, false)">D) Cost of transportation</div>
                </div>
            </div>
            <div id="selectedParticipant2" class="participant-selection-bottom"></div>
        </div>

        <div class="slide">
            <div class="question-container">
                <div class="question-number">Question 3 of 5</div>
                <div class="question-text">For online students, what was mentioned as a main challenge in attending gatherings?</div>
                <div class="options">
                    <div class="option" onclick="selectAnswer(this, false)">A) Technical difficulties with internet</div>
                    <div class="option" onclick="selectAnswer(this, false)">B) Finding a quiet place to participate</div>
                    <div class="option" onclick="selectAnswer(this, false)">C) Having the right technology equipment</div>
                    <div class="option" onclick="selectAnswer(this, true)">D) Coordinating different time zones and schedules</div>
                </div>
            </div>
            <div id="selectedParticipant3" class="participant-selection-bottom"></div>
        </div>

        <div class="slide">
            <div class="question-container">
                <div class="question-number">Question 4 of 5</div>
                <div class="question-text">Despite these challenges, what does the devotional emphasize about making the effort to attend gatherings?</div>
                <div class="options">
                    <div class="option" onclick="selectAnswer(this, false)">A) It's required for graduation</div>
                    <div class="option" onclick="selectAnswer(this, true)">B) It's worth it for the connections and learning</div>
                    <div class="option" onclick="selectAnswer(this, false)">C) It helps improve grades</div>
                    <div class="option" onclick="selectAnswer(this, false)">D) It's easier than individual study</div>
                </div>
            </div>
            <div id="selectedParticipant4" class="participant-selection-bottom"></div>
        </div>

        <div class="slide">
            <div class="question-container">
                <div class="question-number">Question 5 of 5</div>
                <div class="question-text">What key principle from the devotional applies to both in-person and online students?</div>
                <div class="options">
                    <div class="option" onclick="selectAnswer(this, false)">A) Everyone learns at the same pace</div>
                    <div class="option" onclick="selectAnswer(this, false)">B) Technology makes everything easier</div>
                    <div class="option" onclick="selectAnswer(this, false)">C) Individual study is more effective</div>
                    <div class="option" onclick="selectAnswer(this, true)">D) We all make sacrifices to be part of this community</div>
                </div>
            </div>
            <div id="selectedParticipant5" class="participant-selection-bottom"></div>
        </div>

                <!-- Slide 9: Devotional Quote -->
        <div class="slide" style="background: url('img/fondo.png') no-repeat center center; background-size: cover;">
          <div style="display: flex; justify-content: center; align-items: flex-start; min-height: 70vh; background: rgba(0,0,0,0.35); padding-top: 100px;">
                <div class="devotional-quote-container" style="background: rgba(4,78,110,0.30); border-radius: 50px; border: 1px solid #000; box-shadow: 0 8px 24px rgba(0,0,0,0.25); max-width: 820px; min-height: 205px; padding: 30px; margin: 0 20px;">
                    <div class="quote-text" style="color:#FFFFFF">
                        "The climbs to the places God would have us go are never for us alone... Losing sight of that need to climb with others could slow our progress toward dramatically improved teaching and learning."
                    </div>
                    <div class="quote-author" style="color:#FFFFFF">
                        <strong>Henry B. Eyring</strong><br>
                        <em>"The Temple and the College on the Hill" (BYU-Idaho Devotional, June 9, 2009)</em>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Slide -->
    <div class="slide">
      <div class="celebration">🎬</div>
    
      <!-- Oculto para no romper la función updateScore() -->
      <div id="finalScore" style="display:none;"></div>
    
      <!-- Video -->
      <div style="max-width: 900px; margin: 20px auto 40px;">
        <div style="position:relative; width:100%; padding-top:56.25%; border-radius:16px; overflow:hidden; box-shadow:0 10px 30px rgba(0,0,0,0.15);">
          <iframe
            src="https://www.youtube.com/embed/TmhoSj3wkDM"
            title="YouTube video player"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            style="position:absolute; inset:0; width:100%; height:100%; border:0;">
          </iframe>
        </div>
      </div>
    
      <!-- imagenes metafora -->
      <div class="bug-jar-images">
        <img src="img/1-F.png" alt="Jar full of bugs" style="max-width: 250px; height: auto;" />
        <img src="img/2-F.png" alt="Open jar with bugs flying out" style="max-width: 250px; height: auto;" />
      </div>
    </div>


        <!-- Team Project Introduction -->
        <div class="slide">
            <h2>Team Project <span class="emoji">🤝</span></h2>
            <div class="highlight">
                    <p>Now we will divide into the same groups that were assigned for our team project. Each group will imagine a refreshing drink, give it a creative name, and decide on a price that allows for a good profit while attracting as many neighbors as possible. At the end, each group will share their drink idea. The group with the best mix of creativity and profitability will win this activity.
</p>
            </div>
            <div class="interactive-element">
                <h3>Interactive Moment!</h3>
                <p><strong>What is the name of your drink?</strong></p>
                <p><strong>Why will this drink attract many customers?</strong></p>
                <p><strong>What is the average cost to make one drink?</strong></p>
                <p><strong>What is the average profit you expect from this new product?</strong></p>
                <p><em>Let's hear your thoughts!</em></p>
            </div>
        </div>

        <!-- Teamwork Principles -->
        <div class="slide">
            <h2>Key Teamwork Principles <span class="emoji">⭐</span></h2>
            <div class="teamwork-principles">
                <div class="principle-card">
                    <h4>People First</h4>
                    <p>Teams are made of people, and relationships can make or break performance</p>
                </div>
                <div class="principle-card">
                    <h4>Seek Understanding</h4>
                    <p>As you seek to be understood, also seek to understand others</p>
                </div>
                <div class="principle-card">
                    <h4>Divine Help</h4>
                    <p>Establish unity by being disciples of Christ and asking for divine assistance</p>
                </div>
                <div class="principle-card">
                    <h4>Everyone Participates</h4>
                    <p>Do your part and help the group - participation makes work easier</p>
                </div>
                <div class="principle-card">
                    <h4>Be Patient</h4>
                    <p>Unity takes time to form. Have patience and nurture each other</p>
                </div>
            </div>
        </div>

        <!-- Team Governance Document -->
        <div class="slide">
            <h2>Your Team Governance Document <span class="emoji">📋</span></h2>
            <div class="highlight">
                <h3>What is it?</h3>
                <p>A document that establishes how your team will work together, make decisions, and handle challenges.</p>
            </div>
            <div class="interactive-element">
                <h3>Think About:</h3>
                <p>🎯 Team goals and objectives</p>
                <p>📞 Communication methods and frequency</p>
                <p>⚖️ Decision-making processes</p>
                <p>🔄 Roles and responsibilities</p>
                <p>🚧 Conflict resolution strategies</p>
            </div>
            <p><strong>Remember:</strong> Just like the devotional emphasized making effort to gather, your team document should reflect everyone's commitment to the team's success!</p>
        </div>

        <!-- Call to Action -->
        <div class="slide">
            <div class="celebration">🎯</div>
            <h2>Time to Get to Work!</h2>
            <div class="highlight">
                <h3>Next Steps:</h3>
                <p>1️⃣ Break into your assigned groups</p>
                <p>2️⃣ Review the assignment in your course</p>
                <p>3️⃣ Apply the teamwork principles we discussed</p>
                <p>4️⃣ Create your Team Governance Document</p>
            </div>
            <div class="interactive-element">
                <p><strong>Remember:</strong> Individual submission required, but the work is collaborative!</p>
                <p><em>Let's make this the best team project yet! 🌟</em></p>
            </div>
        </div>

        <div class="navigation">
            <button class="nav-btn" id="prevBtn" onclick="changeSlide(-1)">← Previous</button>
            <span style="color: #667eea; font-weight: bold; margin: 0 20px;" id="slideCounter">1 / 12</span>
            <button class="nav-btn" id="nextBtn" onclick="changeSlide(1)">Next →</button>
        </div>
    </div>

    <script>
        let currentSlide = 0;
        let score = 0;
        let totalQuestions = 5;
        let participants = [];
        let usedParticipants = [];
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;

        function updateProgress() {
            const progress = ((currentSlide + 1) / totalSlides) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function updateSlideCounter() {
            document.getElementById('slideCounter').textContent = `${currentSlide + 1} / ${totalSlides}`;
        }

        function changeSlide(direction) {
            slides[currentSlide].classList.remove('active');
            currentSlide += direction;
            
            if (currentSlide >= totalSlides) currentSlide = totalSlides - 1;
            if (currentSlide < 0) currentSlide = 0;
            
            slides[currentSlide].classList.add('active');
            updateProgress();
            updateSlideCounter();
            
            // Auto-select participant IMMEDIATELY when entering quiz questions (now slides 4-8)
            if (currentSlide >= 4 && currentSlide <= 8) {
                const questionNumber = currentSlide - 3;
                displaySelectedParticipant(questionNumber);
            }
            
            // Update navigation buttons
            document.getElementById('prevBtn').disabled = currentSlide === 0;
            document.getElementById('nextBtn').disabled = currentSlide === totalSlides - 1;
        }

        function addParticipant() {
            const nameInput = document.getElementById('nameInput');
            const name = nameInput.value.trim();
            
            if (name === '') {
                alert('Please enter a name!');
                return;
            }
            
            if (participants.includes(name)) {
                alert('This name is already added!');
                return;
            }
            
            participants.push(name);
            nameInput.value = '';
            updateParticipantsList();
            updateParticipantCount();
        }

        function removeParticipant(name) {
            participants = participants.filter(function(p) { return p !== name; });
            updateParticipantsList();
            updateParticipantCount();
        }

        function clearAllParticipants() {
            participants = [];
            usedParticipants = [];
            updateParticipantsList();
            updateParticipantCount();
        }

        function updateParticipantsList() {
            const listElement = document.getElementById('participantsList');
            if (participants.length === 0) {
                listElement.innerHTML = '<p style="color: #666; font-style: italic;">No participants added yet...</p>';
                return;
            }
            
            listElement.innerHTML = participants.map(function(name) {
                return '<div class="participant-tag">' + name + ' <button class="remove-btn" onclick="removeParticipant(\'' + name + '\')">×</button></div>';
            }).join('');
        }

        function updateParticipantCount() {
            document.getElementById('participantCount').textContent = 'Participants registered: ' + participants.length;
        }

        function selectRandomParticipant() {
            if (participants.length === 0) {
                return "No participants registered!";
            }
            
            // Reset used participants if everyone has been selected
            if (usedParticipants.length >= participants.length) {
                usedParticipants = [];
            }
            
            // Get available participants
            const availableParticipants = participants.filter(function(p) {
                return !usedParticipants.includes(p);
            });
            
            if (availableParticipants.length === 0) {
                usedParticipants = [];
                return selectRandomParticipant();
            }
            
            const randomIndex = Math.floor(Math.random() * availableParticipants.length);
            const selectedName = availableParticipants[randomIndex];
            
            usedParticipants.push(selectedName);
            return selectedName;
        }

        function displaySelectedParticipant(slideNumber) {
            const selectedElement = document.getElementById('selectedParticipant' + (slideNumber > 1 ? slideNumber : ''));
            if (selectedElement) {
                const selectedName = selectRandomParticipant();
                selectedElement.innerHTML = '🎯 ' + selectedName + ' - Your turn to answer!';
            }
        }

        function selectAnswer(element, isCorrect) {
            // Disable all options in this question
            const allOptions = element.parentElement.querySelectorAll('.option');
            allOptions.forEach(function(option) {
                option.style.pointerEvents = 'none';
                if (option !== element) {
                    option.style.opacity = '0.6';
                }
            });

            if (isCorrect) {
                element.classList.add('correct');
                score++;
                updateScore();
                
                // Auto advance after 2 seconds
                setTimeout(function() {
                    changeSlide(1);
                }, 2000);
            } else {
                element.style.background = 'rgba(239, 68, 68, 0.3)';
                element.style.border = '3px solid #ef4444';
                
                // Show correct answer
                allOptions.forEach(function(option) {
                    if (option.onclick.toString().includes('true')) {
                        option.classList.add('correct');
                    }
                });
                
                // Auto advance after 3 seconds
                setTimeout(function() {
                    changeSlide(1);
                }, 3000);
            }
        }

        function updateScore() {
            // Score tracking removed but keep functionality for quiz completion
            if (currentSlide === 10) { // Results slide (now slide 10)
                const percentage = Math.round((score / totalQuestions) * 100);
                let message = '';
                if (percentage >= 80) {
                    message = '🌟 Excellent! ' + score + '/' + totalQuestions + ' (' + percentage + '%) - You really understood the devotional!';
                } else if (percentage >= 60) {
                    message = '👏 Good job! ' + score + '/' + totalQuestions + ' (' + percentage + '%) - You got the main points!';
                } else {
                    message = '📚 Keep learning! ' + score + '/' + totalQuestions + ' (' + percentage + '%) - Let\'s discuss the key concepts!';
                }
                document.getElementById('finalScore').innerHTML = message;
            }
        }

        // Initialize
        updateProgress();
        updateSlideCounter();
        updateParticipantsList();
        document.getElementById('prevBtn').disabled = true;

        // Allow Enter key to add participants and keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && document.getElementById('nameInput') === document.activeElement) {
                addParticipant();
            }
            if (e.key === 'ArrowLeft') changeSlide(-1);
            if (e.key === 'ArrowRight') changeSlide(1);
        });
    </script>
</body>

</html>


